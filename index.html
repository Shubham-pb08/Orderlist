<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Order List</title>
    <!-- Material Design Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f5f5f5;
        }
        .card {
            border-radius: 15px;
        }
        .btn-floating {
            width: 36px;
            height: 36px;
        }
        .table-container {
            display: none;
        }
        h2, h3, th, .btn {
            font-weight: 700;
        }
        .table th {
            background-color: #e3f2fd;
        }
        .btn {
            font-size: 1rem;
        }
        .btn .material-icons {
            vertical-align: middle;
            margin-right: 5px;
        }
    </style>
</head>
<body>

<div class="container mt-4">
    <div class="card">
        <div class="card-body">
            <h2 class="card-title text-center mb-4">Order</h2>
            
            <!-- Search Bar -->
            <div class="input-group mb-3">
                <span class="input-group-text"><i class="material-icons">search</i></span>
                <input type="text" id="search-input" class="form-control" placeholder="Search for an item">
            </div>

            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Item Name</th>
                            <th class="text-center">Quantity</th>
                            <th class="text-center">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="order-list">
                        <!-- List items will be dynamically added here -->
                    </tbody>
                </table>
            </div>

            <!-- Add Button -->
            <button id="submit-btn" class="btn btn-primary btn-block">
                Add
            </button>

            <!-- Selected Items Table -->
            <div class="table-container mt-4">
                <h3 class="text-center mb-3">Selected Items</h3>
                <div class="table-responsive">
                    <table class="table" id="selected-items-table">
                        <thead>
                            <tr>
                                <th>Item Name</th>
                                <th class="text-center">Quantity</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Selected items will be displayed here -->
                        </tbody>
                    </table>
                </div>

                <!-- Copy and Confirm Buttons -->
                <div class="d-flex justify-content-between mt-3">
                    <button id="copy-btn" class="btn btn-primary flex-grow-1 me-2">
                        <i class="material-icons">content_copy</i> Copy
                    </button>
                    <button id="confirm-btn" class="btn btn-success flex-grow-1">
                        <i class="material-icons">check</i> Confirm
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Material Design Bootstrap JS -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.js"></script>
<script>
    // List of items
    const items = ['Apples', 'Bananas', 'Oranges', 'Milk', 'Bread'];

    // Reference to the order and selected items table
    const orderList = document.getElementById('order-list');
    const selectedItemsTable = document.getElementById('selected-items-table').querySelector('tbody');
    const tableContainer = document.querySelector('.table-container');
    const searchInput = document.getElementById('search-input');

    // Function to render list items with quantity controls
    function renderItems(itemsToRender) {
        orderList.innerHTML = '';
        itemsToRender.forEach(item => {
            const tableRow = document.createElement('tr');
            tableRow.innerHTML = `
                <td>${item}</td>
                <td class="text-center">
                    <span class="quantity fw-bold">0</span>
                </td>
                <td class="text-center">
                    <button class="btn btn-floating btn-primary decrease me-2">
                        <i class="material-icons">remove</i>
                    </button>
                    <button class="btn btn-floating btn-primary increase">
                        <i class="material-icons">add</i>
                    </button>
                </td>
            `;
            orderList.appendChild(tableRow);
        });
    }

    renderItems(items);

    // Function to update the selected items table
    function updateSelectedItems() {
        selectedItemsTable.innerHTML = '';
        document.querySelectorAll('#order-list tr').forEach(row => {
            const itemName = row.children[0].textContent;
            const quantity = parseInt(row.querySelector('.quantity').textContent);
            if (quantity > 0) {
                const selectedRow = document.createElement('tr');
                selectedRow.innerHTML = `
                    <td>${itemName}</td>
                    <td class="text-center">${quantity}</td>
                `;
                selectedItemsTable.appendChild(selectedRow);
            }
        });
        tableContainer.style.display = selectedItemsTable.children.length > 0 ? 'block' : 'none';
    }

    // Function to copy the selected items table to the clipboard
    function copyToClipboard() {
        let tableText = 'Item Name\tQuantity\n';
        selectedItemsTable.querySelectorAll('tr').forEach(row => {
            const itemName = row.children[0].textContent;
            const quantity = row.children[1].textContent;
            tableText += `${itemName}\t${quantity}\n`;
        });
        navigator.clipboard.writeText(tableText).then(() => {
            alert('List copied to clipboard!');
        }).catch(err => {
            console.error('Failed to copy: ', err);
        });
    }

    // Event listeners for quantity controls
    orderList.addEventListener('click', (event) => {
        if (event.target.closest('.increase')) {
            const quantityElement = event.target.closest('tr').querySelector('.quantity');
            quantityElement.textContent = parseInt(quantityElement.textContent) + 1;
        } else if (event.target.closest('.decrease')) {
            const quantityElement = event.target.closest('tr').querySelector('.quantity');
            const currentQuantity = parseInt(quantityElement.textContent);
            if (currentQuantity > 0) {
                quantityElement.textContent = currentQuantity - 1;
            }
        }
    });

    // Event listener for the add button
    document.getElementById('submit-btn').addEventListener('click', updateSelectedItems);

    // Event listener for the copy button
    document.getElementById('copy-btn').addEventListener('click', copyToClipboard);

    // Event listener for the confirm button
    document.getElementById('confirm-btn').addEventListener('click', () => {
        alert('Order confirmed!');
        // Add your confirmation logic here
    });

    // Event listener for the search input
    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        const filteredItems = items.filter(item => item.toLowerCase().includes(searchTerm));
        renderItems(filteredItems);
    });
</script>

</body>
</html>
