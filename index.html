<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Order List</title>
    <!-- Material Design Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f5f5f5;
        }
        .card {
            border-radius: 15px;
        }
        .btn-floating {
            width: 36px;
            height: 36px;
        }
        .table-container {
            display: none;
        }
        h2, h3, th, .btn {
            font-weight: 700;
        }
        .table th {
            background-color: #e3f2fd;
        }
        .btn {
            font-size: 1rem;
        }
        .btn .material-icons {
            vertical-align: middle;
            margin-right: 5px;
        }
    </style>
</head>
<body>

<div class="container mt-4">
    <div class="card">
        <div class="card-body">
            <h2 class="card-title text-center mb-4">Order</h2>
            
            <!-- Search Bar -->
            <div class="input-group mb-3">
                <span class="input-group-text"><i class="material-icons">search</i></span>
                <input type="text" id="search-input" class="form-control" placeholder="Search for an item">
            </div>

            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Item Name</th>
                            <th class="text-center">Category</th>
                            <th class="text-center">Quantity</th>
                            <th class="text-center">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="order-list">
                        <!-- List items will be dynamically added here -->
                    </tbody>
                </table>
            </div>

            <!-- Add Button -->
            <button id="submit-btn" class="btn btn-primary btn-block">
                Add
            </button>

            <!-- Selected Items Table -->
            <div class="table-container mt-4">
                <h3 class="text-center mb-3">Selected Items</h3>
                <div class="table-responsive">
                    <table class="table" id="selected-items-table">
                        <thead>
                            <tr>
                                <th>Item Name</th>
                                <th class="text-center">Quantity</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Selected items will be displayed here -->
                        </tbody>
                    </table>
                </div>

                <!-- Copy and Confirm Buttons -->
                <div class="d-flex justify-content-between mt-3">
                    <button id="copy-btn" class="btn btn-primary flex-grow-1 me-2">
                        <i class="material-icons">content_copy</i> Copy
                    </button>
                    <button id="confirm-btn" class="btn btn-success flex-grow-1">
                        <i class="material-icons">check</i> Confirm
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Material Design Bootstrap JS -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.js"></script>
<script>
    // Inventory object with categorized items
    const inventory = {
        Drinks: [
            "Pepsi Bottles",
            "Diet Pepsi Bottles",
            "Pepsi Zero Bottles",
            "7UP Bottles",
            "Ginger Ale Bottles",
            "Root Beer Bottles",
            "Aquafina Bottles",
            "Clamato Juice",
            "Apple Juice",
            "Dole Apple Juice",
            "Dole Orange Juice"
        ],
        Sauces: [
            "Smokey BBQ Sauce",
            "Honey Garlic Sauce",
            "Sweet & Spicy Thai Sauce",
            "Teriyaki Sauce",
            "Hot Sauce",
            "Mild Sauce",
            "Medium Sauce",
            "Italian Sauce",
            "Apple Sauce",
            "Plum Sauce",
            "Cranberry Sauce",
            "Worcestershire Sauce",
            "Caramel Topping",
            "Chocolate Topping",
            "Plum Sauce Portions",
            "BBQ Sauce Portions"
        ],
        Boxes: [
            "Ala Carte Boxes",
            "Entree Boxes",
            "Ala Carte Liners",
            "Hot Side Boxes",
            "Side Salad Boxes (24oz)",
            "Big Salad Boxes",
            "32oz Bowl",
            "12oz Bowl",
            "8oz Cups",
            "3.5oz Cups",
            "2oz Cups",
            "1oz Cups",
            "32oz Lids",
            "12oz/8oz Lids",
            "3.5oz/2oz Lids",
            "1oz Lids",
            "Paper Bags Large",
            "Paper Bags Medium",
            "Paper Bags Small",
            "Bowl Holders"
        ]
    };

    // Reference to the order and selected items table
    const orderList = document.getElementById('order-list');
    const selectedItemsTable = document.getElementById('selected-items-table').querySelector('tbody');
    const tableContainer = document.querySelector('.table-container');
    const searchInput = document.getElementById('search-input');

    // Function to render list items with quantity controls
    function renderItems(itemsToRender) {
        orderList.innerHTML = '';
        itemsToRender.forEach(({ name, category }) => {
            const tableRow = document.createElement('tr');
            tableRow.innerHTML = `
                <td>${name}</td>
                <td class="text-center">${category}</td>
                <td class="text-center">
                    <span class="quantity fw-bold">0</span>
                </td>
                <td class="text-center">
                    <button class="btn btn-floating btn-primary decrease me-2">
                        <i class="material-icons">remove</i>
                    </button>
                    <button class="btn btn-floating btn-primary increase">
                        <i class="material-icons">add</i>
                    </button>
                </td>
            `;
            orderList.appendChild(tableRow);
        });
    }

    // Flatten inventory into an array of objects with name and category
    const allItems = Object.entries(inventory).flatMap(([category, items]) =>
        items.map(name => ({ name, category }))
    );

    renderItems(allItems);

    // Function to update the selected items table
    function updateSelectedItems() {
        selectedItemsTable.innerHTML = '';
        document.querySelectorAll('#order-list tr').forEach(row => {
            const itemName = row.children[0].textContent;
            const quantity = parseInt(row.querySelector('.quantity').textContent);
            if (quantity > 0) {
                const selectedRow = document.createElement('tr');
                selectedRow.innerHTML = `
                    <td>${itemName}</td>
                    <td class="text-center">${quantity}</td>
                `;
                selectedItemsTable.appendChild(selectedRow);
            }
        });
        tableContainer.style.display = selectedItemsTable.children.length > 0 ? 'block' : 'none';
    }

    // Function to copy the selected items table to the clipboard
    function copyToClipboard() {
        let tableText = 'Item Name\tQuantity\n';
        selectedItemsTable.querySelectorAll('tr').forEach(row => {
            const itemName = row.children[0].textContent;
            const quantity = row.children[1].textContent;
            tableText += `${itemName}\t${quantity}\n`;
        });
        navigator.clipboard.writeText(tableText).then(() => {
            alert('List copied to clipboard!');
        }).catch(err => {
            console.error('Failed to copy: ', err);
        });
    }

    // Event listeners for quantity controls
    orderList.addEventListener('click', (event) => {
        if (event.target.closest('.increase')) {
            const quantityElement = event.target.closest('tr').querySelector('.quantity');
            quantityElement.textContent = parseInt(quantityElement.textContent) + 1;
        } else if (event.target.closest('.decrease')) {
            const quantityElement = event.target.closest('tr').querySelector('.quantity');
            const currentQuantity = parseInt(quantityElement.textContent);
            if (currentQuantity > 0) {
                quantityElement.textContent = currentQuantity - 1;
            }
        }
    });

    // Event listener for the add button
    document.getElementById('submit-btn').addEventListener('click', updateSelectedItems);

    // Event listener for the copy
    // Event listener for the copy button
    document.getElementById('copy-btn').addEventListener('click', copyToClipboard);

    // Event listener for the confirm button
    document.getElementById('confirm-btn').addEventListener('click', () => {
        alert('Order confirmed!');
        // Add your confirmation logic here
    });

    // Event listener for the search input
    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        const filteredItems = allItems.filter(item => item.name.toLowerCase().includes(searchTerm));
        renderItems(filteredItems);
    });
</script>

</body>
</html>
